#!/usr/bin/env python3

import sys

from lib.utils import run

CLIPS = {
    'shrug': r"Â¯\_(ãƒ„)_/Â¯",
    'shrug2': r"Â¯\(Â°_o)/Â¯",
    'shruge': 'ğŸ¤·â€â™‚ï¸',
    'check': "âœ“",
    'chbox': "â˜‘",
    'nochbox': "â˜",
    'thumb': "ğŸ‘",
    'thumbdown': "ğŸ‘",
    'poop': "ğŸ’©",
    'snowman': "â˜ƒ",
    'flip': "(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»",
    'heart': "â¤ï¸",
    'heartp': "ï¸ğŸ’œ",
    'heartb': "ğŸ’”",
    'lod': "à² _à² ",
    'hmm': 'ğŸ¤”',
    'goat': "ğŸ",
    'lenny': "( Í¡Â° ÍœÊ– Í¡Â°)",
    'yeah': "á••( á› )á•—",
    'donger': "ãƒ½à¼¼àºˆÙ„Íœàºˆà¼½ï¾‰",
    'cat': 'ğŸ±',
    'tiger': "ğŸ¯",
    'eye': "ğŸ‘",
    'note': "â™«",
    'kirby': "<(^.^<) (>^.^)>",
    'party': 'ğŸ‰',
    'beer': 'ğŸº',
    'cheers': 'ğŸ»',
    'fuu': "å‡¸(`Ğ´Â´)å‡¸",
    'fire': 'ğŸ”¥',
    'fine': "ğŸ”¥â˜•ï¸ğŸ¶ğŸ’¬ğŸ”¥",
    'keyboard': "âŒ˜âŒƒâŒ¥â‡§â†µâ†’â†â†‘â†“",  # http://apple.stackexchange.com/questions/55727/where-can-i-find-the-unicode-symbols-for-mac-functional-keys-command-shift-e
    'cry': 'ğŸ˜­',
    'summon': 'à¼¼ ã¤ â—•_â—• à¼½ã¤',
    'silly': 'ğŸ˜œ',
    'popcorn': 'ğŸ¿',
    'rofl': 'ğŸ¤£',
    'laugh': 'ğŸ˜‚',
    'v': 'âœŒï¸',
    'peace': 'â˜®ï¸',
    'facepalm': 'ğŸ¤¦â€â™‚ï¸',
    'pray': 'ğŸ™',
    'flex': 'ğŸ’ª',
    'flex2': "á•™(â‡€â€¸â†¼â€¶)á•—",
    'wave': 'ğŸ‘‹',
    'surrender': 'ğŸ³ï¸',
    'finger': 'â˜ï¸',
    'fu': 'ğŸ–•',
    'metal': 'ğŸ¤˜',
    'fist': 'âœŠ',
    'eyeroll': 'ğŸ™„',
    'skull': 'ğŸ’€',
    'crossbones': 'â˜ ï¸',
    'stars': 'âœ¨',
    'cake': 'ğŸ°',
    'brofist': 'ğŸ‘Š',
    'ear': 'ğŸ‘‚',
    'fingerscrossed': 'ğŸ¤',
    'clap': 'ğŸ‘',
    'deal': '(â€¢_â€¢)\n( â€¢_â€¢)>âŒâ– -â– \n(âŒâ– _â– )\n',
    'hug': 'ğŸ¤—',
    'monkeys': 'ğŸ™ˆğŸ™‰ğŸ™Š',
    'bolt': 'âš¡',
    'tear': 'ğŸ˜¢',
    'nerd': 'ğŸ¤“',
    'cool': 'ğŸ˜',
    'ghost': 'ğŸ‘»',
    'hands': 'ğŸ™Œ',
    'devil': 'ğŸ˜ˆ',
    'gross': 'ğŸ¤¢',
    'vomit': 'ğŸ¤®',
    'angry': 'ğŸ˜ ',
    'ib': 'â€½',
    'mindblown': 'ğŸ¤¯',
    'scream': 'ğŸ˜±',
    'pizza': 'ğŸ•',
    'drool': 'ğŸ¤¤',
    'sleep': 'ğŸ˜´',
    'sleepy': 'ğŸ˜ª',
    'el': 'â€¦',
    'cent': 'Â¢',
    'crab': 'ğŸ¦€',
    'baller': 'ğŸ€',
    'ok': 'ğŸ‘Œ',
    'trophy': 'ğŸ†',
}

def print_clips(CLIPS):
    print("Available clips:")
    for c, v in sorted(CLIPS.items()):
        print(c, v)


def get_requested_clips(all_clips, requested_clips):
    result = []
    for clip in requested_clips:
        if clip not in all_clips:
            print(f"No clip named {clip!r}", file=sys.stderr)
            continue

        result.append(all_clips[clip])

    return result


def copy_to_clipboard(output):
    # todo: replace this with pyperclip or xerox
    escaped_output = ' '.join(output).replace("'", "'\\''")
    cmd = f"echo -n '{escaped_output}' | pbcopy"
    run(cmd)


if __name__ == '__main__':
    clips = sys.argv[1:]
    if not clips:
        print_clips(CLIPS)
        sys.exit()

    output = get_requested_clips(CLIPS, clips)
    copy_to_clipboard(output)
